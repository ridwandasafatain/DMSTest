@page "/"
@inherits HomeBase

<PageTitle>DMS</PageTitle>

<div class="p-4">
    <div class="border rounded p-3 mb-4 bg-light">
        <RadzenButton class="mt-2" Click="AddRecord" Text="Add Data" />
    </div>

    <div class="d-flex justify-content-between mb-2">
        <input class="form-control w-25" placeholder="Cari Nama..." @bind="SearchKeyword" />
    </div>

    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                @foreach (var f in Fields)
                {
                    <th>@f</th>
                }
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var row in GetFiltered())
            {
                <tr>
                    @foreach (var f in Fields)
                    {
                        <td>@GetValue(row, f)</td>
                    }
                    <td>                        
                        <RadzenButton Size="ButtonSize.Small" Click="() => ViewRecord(row)" Text="View" />
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
